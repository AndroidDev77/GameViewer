////////////////////////////////////////////////////////////////////////////////////////////////////
// file:	WebDataReader.h
//
// summary:	Declares the web data reader class
////////////////////////////////////////////////////////////////////////////////////////////////////

#pragma once
#include <iostream>
#include <QPixmap>
#include <json/json.h>
#include <curl/curl.h>
#include <QtCore/QDebug>
#include <QtCore/QBuffer>
#include <QImageReader>

////////////////////////////////////////////////////////////////////////////////////////////////////
/// <summary>	A web data reader. </summary>
///
/// <remarks>	Chris, 10/6/2019. </remarks>
////////////////////////////////////////////////////////////////////////////////////////////////////

class WebDataReader
{
public:

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	Default constructor. </summary>
	///
	/// <remarks>	Chris, 10/6/2019. </remarks>
	////////////////////////////////////////////////////////////////////////////////////////////////////

	WebDataReader();
	~WebDataReader();

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	Reads JSON from URL. </summary>
	///
	/// <remarks>	Chris, 10/6/2019. </remarks>
	///
	/// <param name="url"> 	URL of the resource. </param>
	/// <param name="root">	[in,out] If non-null, the root. </param>
	///
	/// <returns>	The JSON from URL. </returns>
	////////////////////////////////////////////////////////////////////////////////////////////////////

	int ReadJSONFromURL(std::string url, Json::Value* root);

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	Reads image from URL. </summary>
	///
	/// <remarks>	Chris, 10/6/2019. </remarks>
	///
	/// <param name="url">	 URL of the resource. </param>
	/// <param name="image"> [in,out] If non-null, the QImage. </param>
	///
	/// <returns>	The Image from URL. </returns>
	////////////////////////////////////////////////////////////////////////////////////////////////////

	int ReadImageFromURL(std::string url, QImage* image);

	CURL* curl;


};

